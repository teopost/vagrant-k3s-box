# Build image

## Build box image
packer  build packerfile.pkr.hcl

## Test VM
Create a file named "Vagrantfile" with this content 

```
Vagrant.configure("2") do |config|
  config.vm.box = "dev-env"
  config.vm.network "forwarded_port", guest: 80, host: 80
  config.vm.network "forwarded_port", guest: 443, host: 443
  config.vm.network "forwarded_port", guest: 6443, host: 6443

  config.vm.provider "virtualbox" do |vb|
        vb.name = "k3s-vm"
        vb.memory = 8192
        vb.cpus = 2
        vb.customize ["modifyvm", :id, "--graphicscontroller", "vmsvga"]
  end
end
```

vagrant init dev-env
vagrant box add dev-env output-autogenerated_1/package.box --force
vagrant up
vagrant ssh

# Upload box image on cloud

TODO: Describe how to upload the box image


# Create VM

## Create Vagrafile

1. Install Vagrant
2. Create a folder (es: k3-vm)
3. Create a file named "Vagrantfile" with this content

```
Vagrant.configure("2") do |config|
  config.vm.box = "steodorani/k3s-vm"
  config.vm.box_version = "1.0"

  config.vm.network "forwarded_port", guest: 80, host: 80
  config.vm.network "forwarded_port", guest: 443, host: 443
  config.vm.network "forwarded_port", guest: 6443, host: 6443

  config.vm.provider "virtualbox" do |vb|
        vb.name = "k3s-vm"
        vb.memory = 8192
        vb.cpus = 2
        vb.customize ["modifyvm", :id, "--graphicscontroller", "vmsvga"]
  end

end
```

